imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    list:
      path: /v2/cards
      method: GET
      auth: true
      docs: |-
        Retrieves a list of cards owned by the account making the request.
        A max of 25 cards will be returned.
      pagination:
        cursor: $request.cursor
        next_cursor: $response.cursor
        results: $response.cards
      source:
        openapi: openapi/openapi.json
      display-name: ListCards
      request:
        name: ListCardsRequest
        query-parameters:
          cursor:
            type: optional<nullable<string>>
            docs: >-
              A pagination cursor returned by a previous call to this endpoint.

              Provide this to retrieve the next set of results for your original
              query.


              See
              [Pagination](https://developer.squareup.com/docs/build-basics/common-api-patterns/pagination)
              for more information.
          customer_id:
            type: optional<nullable<string>>
            docs: |-
              Limit results to cards associated with the customer supplied.
              By default, all cards owned by the merchant are returned.
          include_disabled:
            type: optional<nullable<boolean>>
            default: false
            docs: |-
              Includes disabled cards.
              By default, all enabled cards owned by the merchant are returned.
          reference_id:
            type: optional<nullable<string>>
            docs: Limit results to cards associated with the reference_id supplied.
          sort_order:
            type: optional<nullable<root.SortOrder>>
            docs: >-
              Sorts the returned list by when the card was created with the
              specified order.

              This field defaults to ASC.
      response:
        docs: Success
        type: root.ListCardsResponse
        status-code: 200
      examples:
        - response:
            body:
              errors:
                - category: API_ERROR
                  code: INTERNAL_SERVER_ERROR
                  detail: detail
                  field: field
              cards:
                - id: ccof:uIbfJXhXETSP197M3GB
                  card_brand: VISA
                  last_4: '1111'
                  exp_month: 11
                  exp_year: 2022
                  cardholder_name: Amelia Earhart
                  billing_address:
                    address_line_1: 500 Electric Ave
                    address_line_2: Suite 600
                    locality: New York
                    administrative_district_level_1: NY
                    postal_code: '10003'
                    country: US
                  fingerprint: >-
                    ex-p-cs80EK9Flz7LsCMv-szbptQ_ssAGrhemzSTsPFgt9nzyE6t7okiLIQc-qw_quqKX4Q
                  customer_id: VDKXEEKPJN48QDG3BGGFAK05P8
                  merchant_id: 6SSW7HV8K2ST5
                  reference_id: user-id-1
                  enabled: true
                  card_type: CREDIT
                  prepaid_type: NOT_PREPAID
                  bin: '411111'
                  version: 1
                  card_co_brand: UNKNOWN
                  issuer_alert: ISSUER_ALERT_CARD_CLOSED
                  issuer_alert_at: issuer_alert_at
                  hsa_fsa: false
              cursor: cursor
    create:
      path: /v2/cards
      method: POST
      auth: true
      docs: Adds a card on file to an existing merchant.
      source:
        openapi: openapi/openapi.json
      display-name: CreateCard
      request:
        name: CreateCardRequest
        body:
          properties:
            idempotency_key:
              type: string
              docs: >-
                A unique string that identifies this CreateCard request. Keys
                can be

                any valid string and must be unique for every request.


                Max: 45 characters


                See [Idempotency
                keys](https://developer.squareup.com/docs/build-basics/common-api-patterns/idempotency)
                for more information.
              validation:
                minLength: 1
            source_id:
              type: string
              docs: >-
                The ID of the source which represents the card information to be
                stored. This can be a card nonce or a payment id.
              validation:
                minLength: 1
                maxLength: 16384
            verification_token:
              type: optional<string>
              docs: >-
                An identifying token generated by
                [Payments.verifyBuyer()](https://developer.squareup.com/reference/sdks/web/payments/objects/Payments#Payments.verifyBuyer).

                Verification tokens encapsulate customer device information and
                3-D Secure

                challenge results to indicate that Square has verified the buyer
                identity.


                See the [SCA
                Overview](https://developer.squareup.com/docs/sca-overview).
            card:
              type: root.Card
              docs: Payment details associated with the card to be stored.
        content-type: application/json
      response:
        docs: Success
        type: root.CreateCardResponse
        status-code: 200
      examples:
        - request:
            idempotency_key: 4935a656-a929-4792-b97c-8848be85c27c
            source_id: cnon:uIbfJXhXETSP197M3GB
            card:
              cardholder_name: Amelia Earhart
              billing_address:
                address_line_1: 500 Electric Ave
                address_line_2: Suite 600
                locality: New York
                administrative_district_level_1: NY
                postal_code: '10003'
                country: US
              customer_id: VDKXEEKPJN48QDG3BGGFAK05P8
              reference_id: user-id-1
          response:
            body:
              errors:
                - category: API_ERROR
                  code: INTERNAL_SERVER_ERROR
                  detail: detail
                  field: field
              card:
                id: ccof:uIbfJXhXETSP197M3GB
                card_brand: VISA
                last_4: '1111'
                exp_month: 11
                exp_year: 2022
                cardholder_name: Amelia Earhart
                billing_address:
                  address_line_1: 500 Electric Ave
                  address_line_2: Suite 600
                  address_line_3: address_line_3
                  locality: New York
                  sublocality: sublocality
                  sublocality_2: sublocality_2
                  sublocality_3: sublocality_3
                  administrative_district_level_1: NY
                  administrative_district_level_2: administrative_district_level_2
                  administrative_district_level_3: administrative_district_level_3
                  postal_code: '10003'
                  country: US
                  first_name: first_name
                  last_name: last_name
                fingerprint: >-
                  ex-p-cs80EK9Flz7LsCMv-szbptQ_ssAGrhemzSTsPFgt9nzyE6t7okiLIQc-qw_quqKX4Q
                customer_id: VDKXEEKPJN48QDG3BGGFAK05P8
                merchant_id: 6SSW7HV8K2ST5
                reference_id: user-id-1
                enabled: true
                card_type: CREDIT
                prepaid_type: NOT_PREPAID
                bin: '411111'
                version: 1
                card_co_brand: UNKNOWN
                issuer_alert: ISSUER_ALERT_CARD_CLOSED
                issuer_alert_at: issuer_alert_at
                hsa_fsa: false
    get:
      path: /v2/cards/{card_id}
      method: GET
      auth: true
      docs: Retrieves details for a specific Card.
      source:
        openapi: openapi/openapi.json
      display-name: RetrieveCard
      request:
        name: GetCardsRequest
        path-parameters:
          card_id:
            type: string
            docs: Unique ID for the desired Card.
      response:
        docs: Success
        type: root.GetCardResponse
        status-code: 200
      examples:
        - path-parameters:
            card_id: card_id
          response:
            body:
              errors:
                - category: API_ERROR
                  code: INTERNAL_SERVER_ERROR
                  detail: detail
                  field: field
              card:
                id: ccof:uIbfJXhXETSP197M3GB
                card_brand: VISA
                last_4: '1111'
                exp_month: 11
                exp_year: 2022
                cardholder_name: Amelia Earhart
                billing_address:
                  address_line_1: 500 Electric Ave
                  address_line_2: Suite 600
                  address_line_3: address_line_3
                  locality: New York
                  sublocality: sublocality
                  sublocality_2: sublocality_2
                  sublocality_3: sublocality_3
                  administrative_district_level_1: NY
                  administrative_district_level_2: administrative_district_level_2
                  administrative_district_level_3: administrative_district_level_3
                  postal_code: '10003'
                  country: US
                  first_name: first_name
                  last_name: last_name
                fingerprint: >-
                  ex-p-cs80EK9Flz7LsCMv-szbptQ_ssAGrhemzSTsPFgt9nzyE6t7okiLIQc-qw_quqKX4Q
                customer_id: VDKXEEKPJN48QDG3BGGFAK05P8
                merchant_id: 6SSW7HV8K2ST5
                reference_id: user-id-1
                enabled: true
                card_type: CREDIT
                prepaid_type: NOT_PREPAID
                bin: '411111'
                version: 1
                card_co_brand: UNKNOWN
                issuer_alert: ISSUER_ALERT_CARD_CLOSED
                issuer_alert_at: issuer_alert_at
                hsa_fsa: false
    disable:
      path: /v2/cards/{card_id}/disable
      method: POST
      auth: true
      docs: |-
        Disables the card, preventing any further updates or charges.
        Disabling an already disabled card is allowed but has no effect.
      source:
        openapi: openapi/openapi.json
      display-name: DisableCard
      request:
        name: DisableCardsRequest
        path-parameters:
          card_id:
            type: string
            docs: Unique ID for the desired Card.
      response:
        docs: Success
        type: root.DisableCardResponse
        status-code: 200
      examples:
        - path-parameters:
            card_id: card_id
          response:
            body:
              errors:
                - category: API_ERROR
                  code: INTERNAL_SERVER_ERROR
                  detail: detail
                  field: field
              card:
                id: ccof:uIbfJXhXETSP197M3GB
                card_brand: VISA
                last_4: '1111'
                exp_month: 11
                exp_year: 2022
                cardholder_name: Amelia Earhart
                billing_address:
                  address_line_1: 500 Electric Ave
                  address_line_2: Suite 600
                  address_line_3: address_line_3
                  locality: New York
                  sublocality: sublocality
                  sublocality_2: sublocality_2
                  sublocality_3: sublocality_3
                  administrative_district_level_1: NY
                  administrative_district_level_2: administrative_district_level_2
                  administrative_district_level_3: administrative_district_level_3
                  postal_code: '10003'
                  country: US
                  first_name: first_name
                  last_name: last_name
                fingerprint: >-
                  ex-p-cs80EK9Flz7LsCMv-szbptQ_ssAGrhemzSTsPFgt9nzyE6t7okiLIQc-qw_quqKX4Q
                customer_id: VDKXEEKPJN48QDG3BGGFAK05P8
                merchant_id: 6SSW7HV8K2ST5
                reference_id: user-id-1
                enabled: false
                card_type: CREDIT
                prepaid_type: NOT_PREPAID
                bin: '411111'
                version: 2
                card_co_brand: UNKNOWN
                issuer_alert: ISSUER_ALERT_CARD_CLOSED
                issuer_alert_at: issuer_alert_at
                hsa_fsa: false
  source:
    openapi: openapi/openapi.json
