# This file was auto-generated by Fern from our API Definition.

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2
from ..core.unchecked_base_model import UncheckedBaseModel
from .money import Money
from .order_line_item_applied_discount import OrderLineItemAppliedDiscount
from .order_line_item_applied_service_charge import OrderLineItemAppliedServiceCharge
from .order_line_item_applied_tax import OrderLineItemAppliedTax
from .order_line_item_item_type import OrderLineItemItemType
from .order_quantity_unit import OrderQuantityUnit
from .order_return_line_item_modifier import OrderReturnLineItemModifier


class OrderReturnLineItem(UncheckedBaseModel):
    """
    The line item being returned in an order.
    """

    uid: typing.Optional[str] = pydantic.Field(default=None)
    """
    A unique ID for this return line-item entry.
    """

    source_line_item_uid: typing.Optional[str] = pydantic.Field(default=None)
    """
    The `uid` of the line item in the original sale order.
    """

    name: typing.Optional[str] = pydantic.Field(default=None)
    """
    The name of the line item.
    """

    quantity: str = pydantic.Field()
    """
    The quantity returned, formatted as a decimal number.
    For example, `"3"`.
    
    Line items with a `quantity_unit` can have non-integer quantities.
    For example, `"1.70000"`.
    """

    quantity_unit: typing.Optional[OrderQuantityUnit] = pydantic.Field(default=None)
    """
    The unit and precision that this return line item's quantity is measured in.
    """

    note: typing.Optional[str] = pydantic.Field(default=None)
    """
    The note of the return line item.
    """

    catalog_object_id: typing.Optional[str] = pydantic.Field(default=None)
    """
    The [CatalogItemVariation](entity:CatalogItemVariation) ID applied to this return line item.
    """

    catalog_version: typing.Optional[int] = pydantic.Field(default=None)
    """
    The version of the catalog object that this line item references.
    """

    variation_name: typing.Optional[str] = pydantic.Field(default=None)
    """
    The name of the variation applied to this return line item.
    """

    item_type: typing.Optional[OrderLineItemItemType] = pydantic.Field(default=None)
    """
    The type of line item: an itemized return, a non-itemized return (custom amount),
    or the return of an unactivated gift card sale.
    See [OrderLineItemItemType](#type-orderlineitemitemtype) for possible values
    """

    return_modifiers: typing.Optional[typing.List[OrderReturnLineItemModifier]] = pydantic.Field(default=None)
    """
    The [CatalogModifier](entity:CatalogModifier)s applied to this line item.
    """

    applied_taxes: typing.Optional[typing.List[OrderLineItemAppliedTax]] = pydantic.Field(default=None)
    """
    The list of references to `OrderReturnTax` entities applied to the return line item. Each
    `OrderLineItemAppliedTax` has a `tax_uid` that references the `uid` of a top-level
    `OrderReturnTax` applied to the return line item. On reads, the applied amount
    is populated.
    """

    applied_discounts: typing.Optional[typing.List[OrderLineItemAppliedDiscount]] = pydantic.Field(default=None)
    """
    The list of references to `OrderReturnDiscount` entities applied to the return line item. Each
    `OrderLineItemAppliedDiscount` has a `discount_uid` that references the `uid` of a top-level
    `OrderReturnDiscount` applied to the return line item. On reads, the applied amount
    is populated.
    """

    base_price_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The base price for a single unit of the line item.
    """

    variation_total_price_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The total price of all item variations returned in this line item.
    The price is calculated as `base_price_money` multiplied by `quantity` and
    does not include modifiers.
    """

    gross_return_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The gross return amount of money calculated as (item base price + modifiers price) * quantity.
    """

    total_tax_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The total amount of tax money to return for the line item.
    """

    total_discount_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The total amount of discount money to return for the line item.
    """

    total_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The total amount of money to return for this line item.
    """

    applied_service_charges: typing.Optional[typing.List[OrderLineItemAppliedServiceCharge]] = pydantic.Field(
        default=None
    )
    """
    The list of references to `OrderReturnServiceCharge` entities applied to the return
    line item. Each `OrderLineItemAppliedServiceCharge` has a `service_charge_uid` that
    references the `uid` of a top-level `OrderReturnServiceCharge` applied to the return line
    item. On reads, the applied amount is populated.
    """

    total_service_charge_money: typing.Optional[Money] = pydantic.Field(default=None)
    """
    The total amount of apportioned service charge money to return for the line item.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
