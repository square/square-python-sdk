# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.dismiss_terminal_action_response import DismissTerminalActionResponse
from ..types.dismiss_terminal_checkout_response import DismissTerminalCheckoutResponse
from ..types.dismiss_terminal_refund_response import DismissTerminalRefundResponse
from .raw_client import AsyncRawTerminalClient, RawTerminalClient

if typing.TYPE_CHECKING:
    from .actions.client import ActionsClient, AsyncActionsClient
    from .checkouts.client import AsyncCheckoutsClient, CheckoutsClient
    from .refunds.client import AsyncRefundsClient, RefundsClient


class TerminalClient:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawTerminalClient(client_wrapper=client_wrapper)
        self._client_wrapper = client_wrapper
        self._actions: typing.Optional[ActionsClient] = None
        self._checkouts: typing.Optional[CheckoutsClient] = None
        self._refunds: typing.Optional[RefundsClient] = None

    @property
    def with_raw_response(self) -> RawTerminalClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawTerminalClient
        """
        return self._raw_client

    def dismiss_terminal_action(
        self, action_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalActionResponse:
        """
        Dismisses a Terminal action request if the status and type of the request permits it.

        See [Link and Dismiss Actions](https://developer.squareup.com/docs/terminal-api/advanced-features/custom-workflows/link-and-dismiss-actions) for more details.

        Parameters
        ----------
        action_id : str
            Unique ID for the `TerminalAction` associated with the action to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalActionResponse
            Success

        Examples
        --------
        from square import Square

        client = Square(
            token="YOUR_TOKEN",
        )
        client.terminal.dismiss_terminal_action(
            action_id="action_id",
        )
        """
        _response = self._raw_client.dismiss_terminal_action(action_id, request_options=request_options)
        return _response.data

    def dismiss_terminal_checkout(
        self, checkout_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalCheckoutResponse:
        """
        Dismisses a Terminal checkout request if the status and type of the request permits it.

        Parameters
        ----------
        checkout_id : str
            Unique ID for the `TerminalCheckout` associated with the checkout to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalCheckoutResponse
            Success

        Examples
        --------
        from square import Square

        client = Square(
            token="YOUR_TOKEN",
        )
        client.terminal.dismiss_terminal_checkout(
            checkout_id="checkout_id",
        )
        """
        _response = self._raw_client.dismiss_terminal_checkout(checkout_id, request_options=request_options)
        return _response.data

    def dismiss_terminal_refund(
        self, terminal_refund_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalRefundResponse:
        """
        Dismisses a Terminal refund request if the status and type of the request permits it.

        Parameters
        ----------
        terminal_refund_id : str
            Unique ID for the `TerminalRefund` associated with the refund to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalRefundResponse
            Success

        Examples
        --------
        from square import Square

        client = Square(
            token="YOUR_TOKEN",
        )
        client.terminal.dismiss_terminal_refund(
            terminal_refund_id="terminal_refund_id",
        )
        """
        _response = self._raw_client.dismiss_terminal_refund(terminal_refund_id, request_options=request_options)
        return _response.data

    @property
    def actions(self):
        if self._actions is None:
            from .actions.client import ActionsClient  # noqa: E402

            self._actions = ActionsClient(client_wrapper=self._client_wrapper)
        return self._actions

    @property
    def checkouts(self):
        if self._checkouts is None:
            from .checkouts.client import CheckoutsClient  # noqa: E402

            self._checkouts = CheckoutsClient(client_wrapper=self._client_wrapper)
        return self._checkouts

    @property
    def refunds(self):
        if self._refunds is None:
            from .refunds.client import RefundsClient  # noqa: E402

            self._refunds = RefundsClient(client_wrapper=self._client_wrapper)
        return self._refunds


class AsyncTerminalClient:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawTerminalClient(client_wrapper=client_wrapper)
        self._client_wrapper = client_wrapper
        self._actions: typing.Optional[AsyncActionsClient] = None
        self._checkouts: typing.Optional[AsyncCheckoutsClient] = None
        self._refunds: typing.Optional[AsyncRefundsClient] = None

    @property
    def with_raw_response(self) -> AsyncRawTerminalClient:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawTerminalClient
        """
        return self._raw_client

    async def dismiss_terminal_action(
        self, action_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalActionResponse:
        """
        Dismisses a Terminal action request if the status and type of the request permits it.

        See [Link and Dismiss Actions](https://developer.squareup.com/docs/terminal-api/advanced-features/custom-workflows/link-and-dismiss-actions) for more details.

        Parameters
        ----------
        action_id : str
            Unique ID for the `TerminalAction` associated with the action to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalActionResponse
            Success

        Examples
        --------
        import asyncio

        from square import AsyncSquare

        client = AsyncSquare(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.terminal.dismiss_terminal_action(
                action_id="action_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.dismiss_terminal_action(action_id, request_options=request_options)
        return _response.data

    async def dismiss_terminal_checkout(
        self, checkout_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalCheckoutResponse:
        """
        Dismisses a Terminal checkout request if the status and type of the request permits it.

        Parameters
        ----------
        checkout_id : str
            Unique ID for the `TerminalCheckout` associated with the checkout to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalCheckoutResponse
            Success

        Examples
        --------
        import asyncio

        from square import AsyncSquare

        client = AsyncSquare(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.terminal.dismiss_terminal_checkout(
                checkout_id="checkout_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.dismiss_terminal_checkout(checkout_id, request_options=request_options)
        return _response.data

    async def dismiss_terminal_refund(
        self, terminal_refund_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> DismissTerminalRefundResponse:
        """
        Dismisses a Terminal refund request if the status and type of the request permits it.

        Parameters
        ----------
        terminal_refund_id : str
            Unique ID for the `TerminalRefund` associated with the refund to be dismissed.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        DismissTerminalRefundResponse
            Success

        Examples
        --------
        import asyncio

        from square import AsyncSquare

        client = AsyncSquare(
            token="YOUR_TOKEN",
        )


        async def main() -> None:
            await client.terminal.dismiss_terminal_refund(
                terminal_refund_id="terminal_refund_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.dismiss_terminal_refund(terminal_refund_id, request_options=request_options)
        return _response.data

    @property
    def actions(self):
        if self._actions is None:
            from .actions.client import AsyncActionsClient  # noqa: E402

            self._actions = AsyncActionsClient(client_wrapper=self._client_wrapper)
        return self._actions

    @property
    def checkouts(self):
        if self._checkouts is None:
            from .checkouts.client import AsyncCheckoutsClient  # noqa: E402

            self._checkouts = AsyncCheckoutsClient(client_wrapper=self._client_wrapper)
        return self._checkouts

    @property
    def refunds(self):
        if self._refunds is None:
            from .refunds.client import AsyncRefundsClient  # noqa: E402

            self._refunds = AsyncRefundsClient(client_wrapper=self._client_wrapper)
        return self._refunds
